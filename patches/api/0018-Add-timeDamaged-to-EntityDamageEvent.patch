From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Cryptite <cryptite@gmail.com>
Date: Sun, 10 Sep 2023 07:41:26 -0500
Subject: [PATCH] Add timeDamaged to EntityDamageEvent


diff --git a/src/main/java/org/bukkit/event/entity/EntityDamageEvent.java b/src/main/java/org/bukkit/event/entity/EntityDamageEvent.java
index 3b20000d9ac3e29fe3bc5093e6635377bee88dbd..0f9e2dfa5d2e60962e58291af58cbedb0525e60d 100644
--- a/src/main/java/org/bukkit/event/entity/EntityDamageEvent.java
+++ b/src/main/java/org/bukkit/event/entity/EntityDamageEvent.java
@@ -29,6 +29,7 @@ public class EntityDamageEvent extends EntityEvent implements Cancellable {
     private boolean cancelled;
     private final DamageCause cause;
     private final DamageSource damageSource;
+    private long timeDamaged = System.currentTimeMillis(); // Slice
 
     public EntityDamageEvent(@NotNull final Entity damagee, @NotNull final DamageCause cause, @NotNull final DamageSource damageSource, final double damage) {
         this(damagee, cause, damageSource, new EnumMap<DamageModifier, Double>(ImmutableMap.of(DamageModifier.BASE, damage)), new EnumMap<DamageModifier, Function<? super Double, Double>>(ImmutableMap.of(DamageModifier.BASE, ZERO)));
@@ -210,6 +211,22 @@ public class EntityDamageEvent extends EntityEvent implements Cancellable {
         return damageSource;
     }
 
+    // Slice start
+    /**
+     * @return Get the time the damage event happened.
+     */
+    public long getTimeDamaged() {
+        return timeDamaged;
+    }
+
+    /**
+     * @param timeDamaged Set the time the damage event happened, if you so choose.
+     */
+    public void setTimeDamaged(long timeDamaged) {
+        this.timeDamaged = timeDamaged;
+    }
+    // Slice end
+
     @NotNull
     @Override
     public HandlerList getHandlers() {
